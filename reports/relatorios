import os
from conexion import criar_conexao
from prettytable import PrettyTable # Biblioteca para interface amigável

class Relatorios:
    
    def __init__(self):
        # Define o caminho base para a pasta SQL
        self.base_path = os.path.join(os.path.dirname(__file__), '..', 'sql')

    def _ler_query_sql(self, nome_arquivo: str) -> str:
        """Lê o conteúdo de um arquivo .sql."""
        caminho_arquivo = os.path.join(self.base_path, nome_arquivo)
        try:
            with open(caminho_arquivo, 'r', encoding='utf-8') as f:
                return f.read()
        except FileNotFoundError:
            print(f"Erro: Arquivo de relatório não encontrado em {caminho_arquivo}")
            return None
        except Exception as e:
            print(f"Erro ao ler arquivo SQL: {e}")
            return None
